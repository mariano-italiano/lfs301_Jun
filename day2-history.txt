poweroff
ls -la
ls -lai
cat /proc/filesystems 
cat /proc/filesystems  | grep -v "nodev"
df -hT
cd /proc
ls -la
touch plik
cd
vi plik1
ln -s plik1 softlink
ls -la
ls -lai 
rm plik1
ls -lai 
vi softlink 
ls -lai 
vi plik2
ln plik2 hardlink
ls -lai 
rm plik2 -f
ls -lai 
vi hardlink 
ln hardlink hardlink2
vi hardlink
vi hardlink2
vi hardlink
find . -inum 34036927\
find . -inum 34036927
ls -lai hardlink*
chmod 777 hardlink
ls -lai hardlink*
git clone https://github.com/mariano-italiano/lfs301_Jun.git
dnf install git
vi /etc/yum.repos.d/
vi /etc/yum.repos.d/redhat.repo 
mount /dev/cdrom /mnt/
cp /mnt/media.repo /etc/yum.repos.d/
dnf repolist
dnf repolist al
dnf repolist all
dnf install git
vi /etc/yum.repos.d/media.repo 
ls -la /etc/yum.repos.d/media.repo
chmod 644 /etc/yum.repos.d/media.repo
vi /etc/yum.repos.d/media.repo
dnf repolist all
cd /mnt
ls -la
cd BaseOS/
ls -la
q
vi /etc/yum.repos.d/media.repo 
dnf clean all
dnf repolist
dnf install git
git config --global user.email 'markuj5@gmail.com'
git config --global user.name "Marcin"
git clone https://github.com/mariano-italiano/lfs301_Jun.git
cd
mkdir git
cd git
git clone https://github.com/mariano-italiano/lfs301_Jun.git
ls
systemd-analyze 
systemd-analyze blame
systemctl status syslog.service 
journalctl 
journalctl -p err
journalctl --help
journalctl -u chrony
journalctl -u chronyd
journalctl -b
journalctl -f
cd /run/log/journal/
ls -la
cd f77c16f2bb95420695a7166792ef3900/
ls -la
less system.journal
cd ..
touch plik
ls -la
cd
cd /var/log
ls -la
mkdir journal
systemctl restart systemd-journald
ls -la journal/
cd /run/log/
ls -la
cd /var/log/journal/
ls -la
cd f77c16f2bb95420695a7166792ef3900/
ls -la
cd
vi /etc/systemd/journald.conf 
systemctl restart systemd-journald
journalctl -f 
journalctl -u sshd
tail -20 /var/log/messages 
tail -20 /var/log/secure 
cd /var/log/journal/
ls -la
cd f77c16f2bb95420695a7166792ef3900/
less system.journal 
cd 
cat /proc/partitions 
ip a s
echo "- - -" > /sys/class/scsi_host/host0/scan 
cat /proc/partitions 
echo "- - -" > /sys/class/scsi_host/host1/scan 
cat /proc/partitions 
for i in `seq 0 31`; do echo $i; done
for i in `seq 0 31`; do echo "- - -" > /sys/class/scsi_host/host$i/scan; done
cat /proc/partitions 
partprobe 
cat /proc/partitions 
history
history | cut -c 8-
history | cut -c 8- > git/lfs301_Jun/day2-history.txt 
cd git/lfs301_Jun/
git add .
git commit -m "Day2 history file"
git push
reboot
getenforce
getsebool -a | grep -i nfs
dnf install nfs-utils
df -h
mkdir /NFS
mount 192.168.1.81:/nfs-share  /NFS/
df -h
cd /NFS
ls -la
touch rhel8File
cd
vi /etc/fstab 
df -h
lsblk -pf
vgs
lvcreate -L 1G -n swap vg1
lvs
mkswap /dev/mapper/vg1-swap 
swapon -s
swapon /dev/mapper/vg1-swap
swapon -s
cat /proc/swaps
swapoff /dev/mapper/vg1-swap
cat /proc/swaps
swapon -a
swapon -s
swapoff /dev/mapper/rhel_vg0-swap
swapon /dev/mapper/vg1-swap
ls -la
swapon -s
swapon -a
swapon -s
lsblk -pf
e2label /dev/mapper/rhel_vg0-swap
df -h
cd /gptPart
ls -la
mv bigFile2 swapfile
mkswap swapfile 
swapon swapfile
swapon -s
cd
df -i
df -hTi
df -hT
df -T
cd /var/log
du -sh *
cd /var
du -sh *
cd cache/
du -sh *
du --
du -hx * --max
du -sh * -d 1
du -sh * -d=1
du -sh --max-depth=1 *
du --max-depth=1 -hx *
ls -la
du --max-depth=1 -hx /
df -h
cd
cat /proc/partitions 
vgs
grep -i config_dm_crypt /boot/config-4.18.0-372.9.1.el8.x86_64 
lsmod | grep -i crypt
lsmod | grep -i dm_crypt
modprobe dm_crypt
lsmod | grep -i dm_crypt
lvcreate -L 400M -n luks vg1
lvs
cryptsetup -y luksFormat /dev/mapper/vg1-luks 
cryptsetup luksOpen /dev/mapper/vg1-luks myLuks
mkfs.ext4 /dev/mapper/myLuks 
mkdir /secretData
mount /dev/mapper/myLuks /secretData/
cd /secretData/
ls -la
touch fajnyPlik
touch fajnyPlik2
cd
umount /secretData 
cryptsetup luksClose myLuks 
df -h
cryptsetup luksOpen /dev/mapper/vg1-luks test
cat /proc/partitions 
mount /dev/mapper/test /secretData/
ls -la
ls -la /secretData/
df -h
umount /secretData 
cryptsetup luksClose test
cat /proc/crypto 
cat /proc/crypto | grep -i name
cat /proc/crypto | grep -i name | sort -u
ls -la /etc/crypttab 
vi /etc/fstab 
lsblk -pf
lsblk
lvremove /dev/mapper/vg1-swap 
swapoff /dev/mapper/vg1-swap
lvremove /dev/mapper/vg1-swap 
lvremove /dev/mapper/vg1-luks 
lvremove /dev/mapper/vg1-lv1 
df -h
umount /gptPart
cd
lvs
umount /gptPart 
lsof /gptPart
vgs
umount /NFS 
umount /mbrPart 
umount /gptPart 
umount /gptPart -l
umount --help
df -h
lvremove /dev/mapper/vg1-lv1 
dmsetup info -c | grep lv1
lsof | grep "major,minor"
lsof | grep "253,2"
modprobe -r dm_crypt 
lvremove /dev/mapper/vg1-lv1 
lsof
lsof | grep -i lv1
lsof | grep "253,2"
dmsetup info -c | grep lv1
lsof | grep -i lvm
cd git/
cd ls
cd lfs301_Jun/
vi day2-history.txt 
history
history | cut -c 8- >day2-history.txt
poweroff
ls -la
ls -lai
cat /proc/filesystems 
cat /proc/filesystems  | grep -v "nodev"
df -hT
cd /proc
ls -la
touch plik
cd
vi plik1
ln -s plik1 softlink
ls -la
ls -lai 
rm plik1
ls -lai 
vi softlink 
ls -lai 
vi plik2
ln plik2 hardlink
ls -lai 
rm plik2 -f
ls -lai 
vi hardlink 
ln hardlink hardlink2
vi hardlink
vi hardlink2
vi hardlink
find . -inum 34036927\
find . -inum 34036927
ls -lai hardlink*
chmod 777 hardlink
ls -lai hardlink*
git clone https://github.com/mariano-italiano/lfs301_Jun.git
dnf install git
vi /etc/yum.repos.d/
vi /etc/yum.repos.d/redhat.repo 
mount /dev/cdrom /mnt/
cp /mnt/media.repo /etc/yum.repos.d/
dnf repolist
dnf repolist al
dnf repolist all
dnf install git
vi /etc/yum.repos.d/media.repo 
ls -la /etc/yum.repos.d/media.repo
chmod 644 /etc/yum.repos.d/media.repo
vi /etc/yum.repos.d/media.repo
dnf repolist all
cd /mnt
ls -la
cd BaseOS/
ls -la
q
vi /etc/yum.repos.d/media.repo 
dnf clean all
dnf repolist
dnf install git
git config --global user.email 'markuj5@gmail.com'
git config --global user.name "Marcin"
git clone https://github.com/mariano-italiano/lfs301_Jun.git
cd
mkdir git
cd git
git clone https://github.com/mariano-italiano/lfs301_Jun.git
ls
systemd-analyze 
systemd-analyze blame
systemctl status syslog.service 
journalctl 
journalctl -p err
journalctl --help
journalctl -u chrony
journalctl -u chronyd
journalctl -b
journalctl -f
cd /run/log/journal/
ls -la
cd f77c16f2bb95420695a7166792ef3900/
ls -la
less system.journal
cd ..
touch plik
ls -la
cd
cd /var/log
ls -la
mkdir journal
systemctl restart systemd-journald
ls -la journal/
cd /run/log/
ls -la
cd /var/log/journal/
ls -la
cd f77c16f2bb95420695a7166792ef3900/
ls -la
cd
vi /etc/systemd/journald.conf 
systemctl restart systemd-journald
journalctl -f 
journalctl -u sshd
tail -20 /var/log/messages 
tail -20 /var/log/secure 
cd /var/log/journal/
ls -la
cd f77c16f2bb95420695a7166792ef3900/
less system.journal 
cd 
cat /proc/partitions 
ip a s
echo "- - -" > /sys/class/scsi_host/host0/scan 
cat /proc/partitions 
echo "- - -" > /sys/class/scsi_host/host1/scan 
cat /proc/partitions 
for i in `seq 0 31`; do echo $i; done
for i in `seq 0 31`; do echo "- - -" > /sys/class/scsi_host/host$i/scan; done
cat /proc/partitions 
partprobe 
cat /proc/partitions 
history
history | cut -c 8-
history | cut -c 8- > git/lfs301_Jun/day2-history.txt 
cd git/lfs301_Jun/
git add .
git commit -m "Day2 history file"
git push
reboot
getenforce
getsebool -a | grep -i nfs
dnf install nfs-utils
df -h
mkdir /NFS
mount 192.168.1.81:/nfs-share  /NFS/
df -h
cd /NFS
ls -la
touch rhel8File
cd
vi /etc/fstab 
df -h
lsblk -pf
vgs
lvcreate -L 1G -n swap vg1
lvs
mkswap /dev/mapper/vg1-swap 
swapon -s
swapon /dev/mapper/vg1-swap
swapon -s
cat /proc/swaps
swapoff /dev/mapper/vg1-swap
cat /proc/swaps
swapon -a
swapon -s
swapoff /dev/mapper/rhel_vg0-swap
swapon /dev/mapper/vg1-swap
ls -la
swapon -s
swapon -a
swapon -s
lsblk -pf
e2label /dev/mapper/rhel_vg0-swap
df -h
cd /gptPart
ls -la
mv bigFile2 swapfile
mkswap swapfile 
swapon swapfile
swapon -s
cd
df -i
df -hTi
df -hT
df -T
cd /var/log
du -sh *
cd /var
du -sh *
cd cache/
du -sh *
du --
du -hx * --max
du -sh * -d 1
du -sh * -d=1
du -sh --max-depth=1 *
du --max-depth=1 -hx *
ls -la
du --max-depth=1 -hx /
df -h
cd
cat /proc/partitions 
vgs
grep -i config_dm_crypt /boot/config-4.18.0-372.9.1.el8.x86_64 
lsmod | grep -i crypt
lsmod | grep -i dm_crypt
modprobe dm_crypt
lsmod | grep -i dm_crypt
lvcreate -L 400M -n luks vg1
lvs
cryptsetup -y luksFormat /dev/mapper/vg1-luks 
cryptsetup luksOpen /dev/mapper/vg1-luks myLuks
mkfs.ext4 /dev/mapper/myLuks 
mkdir /secretData
mount /dev/mapper/myLuks /secretData/
cd /secretData/
ls -la
touch fajnyPlik
touch fajnyPlik2
cd
umount /secretData 
cryptsetup luksClose myLuks 
df -h
cryptsetup luksOpen /dev/mapper/vg1-luks test
cat /proc/partitions 
mount /dev/mapper/test /secretData/
ls -la
ls -la /secretData/
df -h
umount /secretData 
cryptsetup luksClose test
cat /proc/crypto 
cat /proc/crypto | grep -i name
cat /proc/crypto | grep -i name | sort -u
ls -la /etc/crypttab 
vi /etc/fstab 
lsblk -pf
lsblk
lvremove /dev/mapper/vg1-swap 
swapoff /dev/mapper/vg1-swap
lvremove /dev/mapper/vg1-swap 
lvremove /dev/mapper/vg1-luks 
lvremove /dev/mapper/vg1-lv1 
df -h
umount /gptPart
cd
lvs
umount /gptPart 
lsof /gptPart
vgs
umount /NFS 
umount /mbrPart 
umount /gptPart 
umount /gptPart -l
umount --help
df -h
lvremove /dev/mapper/vg1-lv1 
dmsetup info -c | grep lv1
lsof | grep "major,minor"
lsof | grep "253,2"
modprobe -r dm_crypt 
lvremove /dev/mapper/vg1-lv1 
lsof
lsof | grep -i lv1
lsof | grep "253,2"
dmsetup info -c | grep lv1
lsof | grep -i lvm
cd git/
cd ls
cd lfs301_Jun/
vi day2-history.txt 
history
history | cut -c 8- >day2-history.txt
reboot
cat /proc/partitions 
df -h
df -hT
blkid
lsblk
fdisk -l /dev/nvme0n2 
lsblk -fp
fdisk /dev/nvme0n2 
lsblk -fp
gdisk /dev/nvme0n2
lsblk -fp
gdisk /dev/nvme0n2
lsblk -fp
mkfs --help
mkfs.ext4 /dev/nvme0n2p1
lsblk -fp
mkdir /mbrPart
mount /dev/nvme0n2p1 /mbrPart
df -hT
vi /etc/fstab 
umount /mbrPart
df -h
mount -a
df -h
lsblk -fp
e2label /dev/nvme0n2p1
e2label /dev/nvme0n2p1 MbrPart
e2label /dev/nvme0n2p1
lsblk -fp
vi /etc/fstab 
umount /mbrPart 
df -h
mount -a
df -h
cd /mbrPart/
touch plik1
ls -la
cd ..
cd
mount -o remount,ro /mbrPart
cd /mbrPart
cat plik1 
touch plik2
mount -o remount,rw /mbrPart
touch plik2
cd
cat /proc/mounts 
clear
gdisk /dev/nvme02
gdisk /dev/nvme0n2
lsblk -fp
pvcreate /dev/nvme0n2p2
pvs
pvdisplay 
pvdisplay "/dev/nvme0n2p2"
vgcreate /dev/nvme0n2p2 vg1
vgcreate vg1 /dev/nvme0n2p2 
vgs
vgdisplay 
vgchange --help
vgchange -s 1M vg1
vgdisplay 
vgs
lvcreate --help
lvcreate -L 500M -n lv1 /dev/vg1
lvs
lvdisplay 
df -h
cd /dev/mapper/
ls -la
cat /proc/partitions 
cd /dev
ls -la *vg*
lvs
mkfs.xfs /dev/vg1/lv1 
df -h
mkdir /gptPart
mount /dev/mapper/vg1-lv1 /gptPart
df -hT
lsblk -fp
cd /gptPart/
ls -la
dd if=/dev/urandom of=bigFile bs=1M count=400
df -h
dd if=/dev/urandom of=bigFile bs=1M count=420
df -h
lvs
vgs
lvextend -L +520M /dev/mapper/vg1-lv1 
lvs
vgs
df -h
df -hT
xfs_growfs /dev/mapper/vg1-lv1
df -h
dd if=/dev/urandom of=bigFile2 bs=1M count=510
df -h
vgs
cat /proc/partitions 
pvcreate /dev/sda
pvs
vgs
vgextend --help
vgextend vg1 /dev/sda
vgs
lvextend -L + 1G /dev/mapper/vg1-lv1
lvextend -L +1G /dev/mapper/vg1-lv1
lvs
xfs_growfs /dev/mapper/vg1-lv1
df -hT
ls -la
cd
xfsdump --help
xfsdump -f xfsDump.dump /gptPart
ls -lah
umount /gptPart 
lvs
lvreduce -L 1.5G /dev/vg1/lv1
lvs
mkfs.xfs /dev/vg1/lv1
mkfs.xfs /dev/vg1/lv1 -f
mount /dev/vg1/lv1 /gptPart/
xfsrestore -f xfsDump.dump  /gptPart
cd /gptPart
ls -la
wipefs --help
lvcreate --help
df -h
dump2fs /dev/nvme0n2p1
dumpe2fs /dev/nvme0n2p1
e4defrag --help
e4defrag -c /var/log
e4defrag -c /mbrPart/ 
e4defrag -c /mbrPart/
e4defrag -c /mbrPart
clear
cd
xfs_info /gptPart/
xfs_db --help
man xfs_db
xfs_db -r /dev/vg1/lv1
xfs_db -r /dev/mapper/rhel_vg0-root 
man xfs_fsr 
xfs_fsr /dev/mapper/vg1-lv1 -t 60 -f defragDetails.txt
vi defragDetails.txt
cat /proc/partitions
mdadm -E /dev/sda[1-4]
wipefs -a /dev/sda4
wipefs --force /dev/sda4
mdadm -E /dev/sda[1-4]
wipefs
wipefs -a /dev/sda4 --force
mdadm -E /dev/sda[1-4]
mdadm --help
mdadm --create /dev/md5 --level=5 --raid-devices=3 /dev/sda[1-3]
mdadm -D /dev/md5
mkfs.ext4 /dev/md5
mkdir /raid5
mount /dev/md5 /raid5
ls -la
cd /raid5/
ls -la
dd if=/dev/urandom of=raidFile1 bs=1M count=25
dd if=/dev/urandom of=raidFile2 bs=1M count=25
dd if=/dev/urandom of=raidFile3 bs=1M count=45
ls -la
ls -lah
mdadm -D /dev/md5
cat /proc/mdstat
cd
mdadm --manage --add /dev/md5 /dev/sda4
cat /proc/mdstat
mdadm -D /dev/md5
mdadm --manage --fail /dev/md5 /dev/sda2
mdadm -D /dev/md5
mdadm --manage --fail /dev/md5 /dev/sda1
mdadm -D /dev/md5
mdadm --manage --help
mdadm --manage --re-add /dev/md5 /dev/sda1
mdadm -D /dev/md5
mdadm --manage --re-add /dev/md5 /dev/sda2
mdadm -D /dev/md5
mdadm --remove /dev/md5 /dev/sda2
mdadm -D /dev/md5
mdadm --manage --add /dev/md5 /dev/sda2
mdadm -D /dev/md5
mdadm stop /dev/md5
mdadm --stop /dev/md5
df -h
umount /raid5
mdadm --stop /dev/md5
mdadm -D /dev/md5
mdadm --start /dev/md5
mdadm --help
cat /proc/mdstat
mdadm --detail /dev/md5
mdadm --run /dev/md5
mdadm --create /de/vmd5 --level=5 --raid-devices=3 /dev/sda[1-3]
mdadm --create /dev/md5 --level=5 --raid-devices=3 /dev/sda[1-3]
mdadm --detail /dev/md5
mdadm --detail --scan --verbose
mdadm --detail --scan --verbose > /etc/mdadm.conf

